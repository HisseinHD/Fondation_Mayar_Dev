<!DOCTYPE html>

<html lang="fr">

<head>
  <meta charset="utf-8">
  <title>MayarFond</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
  <app-root></app-root>

  <div id="google_translate_element" style="display:none;"></div>

  <script>
    function googleTranslateElementInit() {
      new google.translate.TranslateElement(
        {
          pageLanguage: 'fr',
          includedLanguages: 'fr,ar',
          autoDisplay: false
        },
        'google_translate_element'
      );
    }

    const userLang = navigator.language || navigator.userLanguage;
    const lang = userLang.startsWith("ar") ? "ar" : "fr";

    function setLanguage(lang) {
      const select = document.querySelector("select.goog-te-combo");
      if (select) {
        select.value = lang;
        select.dispatchEvent(new Event("change"));
      }

      if (lang === "ar") {
        document.documentElement.setAttribute("dir", "rtl");
        document.body.style.textAlign = "right";
      } else {
        document.documentElement.setAttribute("dir", "ltr");
        document.body.style.textAlign = "left";
      }
    }

    window.addEventListener('load', () => {
      setTimeout(() => setLanguage(lang), 1200);
    });
  </script>

  <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>

</html>